# Content Module Schema

enum ContentType {
  PAGE
  POST
  BLOG
  BANNER
  MENU
}

enum ContentStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
}

type Content {
  _id: ID!
  title: String!
  slug: String!
  content: String!
  excerpt: String
  type: ContentType!
  status: ContentStatus!
  featuredImage: String
  tags: [String!]
  categories: [String!]
  metadata: JSON
  author: String
  publishedAt: DateTime
  order: Int!
  isActive: Boolean!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type PaginatedContent {
  data: [Content]
  total: Int!
  page: Int!
  limit: Int!
  totalPages: Int!
}

input CreateContentInput {
  title: String!
  slug: String!
  content: String
  excerpt: String
  type: ContentType
  status: ContentStatus
  featuredImage: String
  tags: [String!]
  categories: [String!]
  metadata: JSON
  author: String
  publishedAt: DateTime
  order: Int
  isActive: Boolean
}

input UpdateContentInput {
  title: String
  slug: String
  content: String
  excerpt: String
  type: ContentType
  status: ContentStatus
  featuredImage: String
  tags: [String!]
  categories: [String!]
  metadata: JSON
  author: String
  publishedAt: DateTime
  order: Int
  isActive: Boolean
}

input QueryContentInput {
  type: ContentType
  status: ContentStatus
  search: String
  page: Int
  limit: Int
  sortBy: String
  sortOrder: String
}

extend type Query {
  contents(query: QueryContentInput): PaginatedContent!
  content(id: ID!): Content!
  contentBySlug(slug: String!): Content!
}

extend type Mutation {
  createContent(input: CreateContentInput!): Content!
  updateContent(id: ID!, input: UpdateContentInput!): Content!
  deleteContent(id: ID!): Boolean!
  bulkDeleteContents(ids: [ID!]!): Int!
}
